(function(a){"use strict";function b(){var a=window.location.href;return-1!==a.indexOf("?vc_editable=")||-1!==a.indexOf("&vc_editable=")}var c=lozad(".lozad",{rootMargin:"100%",loaded:function(b){a(b).closest(".ut-portfolio-item").addClass("ut-portfolio-featured-image-loaded").parent().addClass("ut-hide-loader"),a.force_appear()}});c.observe(),a(window).on("load",function(){b()&&c.observe()}),a(document).ready(function(){function b(b,c){var d=0;return b.each(function(){a(this).hasClass(c)&&d++}),d}function d(b){if(b){var c=a("#ut-portfolio-details-"+b).find(".active").prev(".ut-portfolio-detail"),d=a("#ut-portfolio-details-"+b).find(".active").next(".ut-portfolio-detail");c.length?a("#ut-portfolio-details-navigation-"+b).find(".prev-portfolio-details").css("visibility","visible"):a("#ut-portfolio-details-navigation-"+b).find(".prev-portfolio-details").css("visibility","hidden"),d.length?a("#ut-portfolio-details-navigation-"+b).find(".next-portfolio-details").css("visibility","visible"):a("#ut-portfolio-details-navigation-"+b).find(".next-portfolio-details").css("visibility","hidden")}}function e(){a(".ut-portfolio-detail.active",".ut-portfolio-details").closest(".ut-portfolio-details-wrap").height(a(".ut-portfolio-detail.active",".ut-portfolio-details").height())}function f(){a(".ut-portfolio-details-navigation").each(function(){var b=a(this);b.find(".next-portfolio-details").css("opacity",0),b.find(".prev-portfolio-details").css("opacity",0)})}function g(){a(".ut-portfolio-details-navigation").each(function(){var b=a(this),c=b.next(),d=c.find(".active"),e=d.find(".ut-portfolio-media").height();0<e?(b.find(".next-portfolio-details").animate({top:e/2+45},function(){a(this).css("opacity",1)}),b.find(".prev-portfolio-details").animate({top:e/2+45},function(){a(this).css("opacity",1)})):setTimeout(function(){b.find(".next-portfolio-details").animate({top:c.height()/2+45},function(){a(this).css("opacity",1)}),b.find(".prev-portfolio-details").animate({top:c.height()/2+45},function(){a(this).css("opacity",1)})},800)})}function h(a){a&&setTimeout(function(){return a.parent().get(0).offsetHeight<a.parent().get(0).scrollHeight?void a.parent().height(a.parent().get(0).scrollHeight):void a.parent().height(a.height())},200)}function i(){setTimeout(function(){window.ut_global_wait=!1,a.force_appear()},800)}function j(b){if(b){var c=a("#ut-portfolio-detail-"+b);c.data("lightGallery")&&c.data("lightGallery").destroy(!0),c.find(".entry-content").fadeOut(600,function(){a(this).html(""),a(this).show()})}}function k(b,c){c&&b.find("#ut-video-call-"+c).fadeOut(-600,function(){a(this).html("")})}function l(a,b){b&&a.find("#portfolio-gallery-slider-"+b).hasClass("ut-sliderimages-loaded")}function m(b,c,d){if(b){var e=a("#ut-portfolio-detail-"+b);window.ut_global_wait=!0,a.ajax({type:"POST",url:utPortfolio.ajaxurl,data:{portfolio_id:b,action:"ut_get_portfolio_post_content",show_title:a(".ut-portfolio-"+c).data("slideup-title")},success:function(b){return e.find(".entry-content").html(b),UT_Shortcodes.init(),UT_Adaptive_Images.init_images(),a("#ut-hover-cursor").ut_require_js({plugin:"UT_Animated_Cursor",source:"customcursor",ieblock:!0,callback:function(){new window.UT_Animated_Cursor(document.getElementById("ut-hover-cursor"))}}),!1},complete:function(){d&&"function"==typeof d&&d()}})}}function n(b,c){if(b){var d=a("#ut-portfolio-detail-"+b),e=utPortfolio.ajaxurl;return d.find(".ut-video-call").length?void a.ajax({type:"POST",url:e,data:{action:"ut_get_portfolio_post",portfolio_id:b},success:function(a){return d.find(".ut-video-call").show().html(a).ut_require_js({plugin:"fitVids",source:"fitVids",callback:function(a){a.fitVids()}}),!1},complete:function(){c&&"function"==typeof c&&c()}}):void c()}}function o(a,b,c){if(a){b.find("#ut-portfolio-detail-"+a).children(".ut-portfolio-media").length||c();var d=b.find("#ut-portfolio-detail-"+a).find(".ut-load-me"),e=d.data("original");d.attr("src")?c&&"function"==typeof c&&c():d.attr("src",e).one("load",function(){c&&"function"==typeof c&&c()})}}function p(b,c,d){if(b){if(!c.find("#ut-portfolio-detail-"+b).children(".ut-portfolio-media").length)return void d();var e=c.find("#portfolio-gallery-slider-"+b);if(e.hasClass("ut-sliderimages-loaded")&&(e.ut_require_js({plugin:"flexslider",source:"flexslider",callback:function(a){a.flexslider({animation:"fade",controlNav:!1,animationLoop:!0,slideshow:!1,smoothHeight:!0,startAt:0,after:function(){h(c),g()}})}}),d&&"function"==typeof d))return void d();var f=e.find(".ut-load-me"),i=f.length;if(i){if(f.each(function(){var b=a(this),f=b.data("original");b.attr("src",f).removeClass("ut-load-me").one("load",function(){if(! --i&&(e.ut_require_js({plugin:"flexslider",source:"flexslider",callback:function(a){a.flexslider({animation:"fade",controlNav:!1,animationLoop:!0,slideshow:!1,smoothHeight:!0,startAt:0,after:function(){h(c),g()}}).addClass("ut-sliderimages-loaded")}}),d&&"function"==typeof d))return void d()})}),d&&"function"==typeof d)return void d();}else if(d&&"function"==typeof d)return void d()}}if(a(".ut-portfolio-featured-image:not(.ut-lazy-wait)").length){var q=document.querySelector(".ut-portfolio-featured-image:not(.ut-lazy-wait)");c.triggerLoad(q)}a(".ut-portfolio-item").appear(),a(document.body).on("appear",".ut-portfolio-item",function(c,d){var e=a(this),f=e.data("effect");1024>=a(window).width()&&(f="portfolioFadeIn");e.hasClass("ut-portfolio-featured-image-loaded")&&e.closest(".ut-masonry").hasClass("show")&&e.closest(".ut-masonry").parent().hasClass("layoutComplete")&&e.clearQueue().delay(100*(d.index(this)-b(d,f))).queue(function(){e.closest(".ut-portfolio-article").removeClass("ut-portfolio-article-animation"),e.parent(".ut-portfolio-article-animation-box").queue(function(){a(this).css({visibility:"visible",opacity:"1"}).addClass(f).dequeue()}),e.dequeue()})}),"undefined"!==site_settings&&"lightgallery"===site_settings.lg_type&&a("a[data-rel^=\"ut-lightgallery\"]").length&&(a(".ut-portfolio-wrap").not(".ut-portfolio-packery-wrap").ut_require_js({plugin:"lightGallery",source:"lightGallery",callback:function(a){a.lightGallery({selector:"a[data-rel^=\"ut-lightgallery\"]",exThumbImage:"data-exThumbImage",loadVimeoThumbnail:!1,loadYoutubeThumbnail:!1,youtubePlayerParams:{autoplay:0},hash:!1,download:site_settings.lg_download,mode:site_settings.lg_mode})}}),a(".ut-portfolio-packery-wrap").ut_require_js({plugin:"lightGallery",source:"lightGallery",callback:function(a){a.lightGallery({selector:"a[data-rel^=\"ut-lightgallery\"]",exThumbImage:"data-exThumbImage",loadVimeoThumbnail:!1,loadYoutubeThumbnail:!1,youtubePlayerParams:{autoplay:0},hash:!1,download:site_settings.lg_download,mode:site_settings.lg_mode})}})),a(".ut-hover").each(function(){var b=a(this).closest(".ut-portfolio-wrap").data("textcolor");a(this).find(".ut-hover-layer").css({color:b}),a(this).find(".ut-hover-layer").find(".portfolio-title").attr("style","color: "+b)}),a(".ut-hover").on("mouseenter touchstart",function(){a(this).find(".ut-hover-layer").css("opacity",1)}).on("mouseleave touchend",function(){a(this).find(".ut-hover-layer").css("opacity",0)});var r=!1;a.fn.utresize&&a(window).utresize(function(){g(),e()}),a(document).on("click",".ut-portfolio-trigger-link",function(b){a(a(this).data("trigger")).trigger("click"),b.preventDefault()}),a(document).on("click",".ut-portfolio-link",function(b){if(r)return!1;r=!0;var c=a(this).data("post"),e=a(this).data("wrap"),f=a("#ut-loader-"+e),g=a("#ut-portfolio-details-wrap-"+e),h=a("#ut-portfolio-details-anchor-"+e),q=a("#ut-portfolio-details-"+e),s=a("#ut-portfolio-details-navigation-"+e),t=g.find("#ut-portfolio-detail-"+c),u=q.find(".active").data("post"),v=q.find(".active").data("format"),w=a(".ut-portfolio-wrap.ut-portfolio-"+e).data("slideup-width"),x=t.data("format"),y="",z=60,A=0,B="";g.is(":visible")?(B=g,A=a("#header-section").outerHeight(),z=40):B=a(".ut-portfolio-"+e),f.stop(!0).fadeIn(200,function(){a.scrollTo(B,400,{easing:"linear",offset:-A-s.outerHeight()-z-120,axis:"y",onAfter:function(){"video"===v&&k(q,u),"gallery"===v&&l(q,u),"centered"===w?(q.addClass("grid-container"),a("#ut-portfolio-details-navigation-"+e).addClass("grid-container"),y="grid-100"):y="ut-portfolio-detail-fullwidth",c!==u&&j(u),q.find(".ut-portfolio-detail.active").attr("class","animated ut-portfolio-detail clearfix").addClass(y).fadeOut(200),t.attr("class","animated ut-portfolio-detail clearfix").addClass(y).addClass("active").css("visibility","hidden").show().slideDown(400,"linear",function(){"gallery"===x?p(c,q,function(){m(c,e,function(){f.fadeOut(200,function(){g.addClass("show"),t.animate({opacity:1},100,"linear",function(){s.slideDown().addClass("show").data("single",c),a(window).trigger("resize"),setTimeout(function(){d(e),g.height(q.height()+40).addClass("overflow-visible"),t.css("visibility","visible"),i()},100),a(window).trigger("scroll"),r=!1,setTimeout(function(){a.scrollTo(B,400,{easing:"linear",offset:-A-s.outerHeight()-z-120,axis:"y"})},200)})})})}):"video"===x?n(c,function(){m(c,e,function(){f.fadeOut(200,function(){g.addClass("show"),t.animate({opacity:1},100,"linear",function(){s.slideDown().addClass("show").data("single",c),a(window).trigger("resize"),setTimeout(function(){d(e),g.height(q.height()+40).addClass("overflow-visible"),t.css("visibility","visible").addClass("animated zoomIn"),i()},100),a(window).trigger("scroll"),r=!1,setTimeout(function(){a.scrollTo(B,400,{easing:"linear",offset:-A-s.outerHeight()-z-120,axis:"y"})},200)})})})}):o(c,q,function(){m(c,e,function(){f.fadeOut(200,function(){g.addClass("show"),t.animate({opacity:1},100,"linear",function(){s.slideDown().addClass("show").data("single",c),a(window).trigger("resize"),setTimeout(function(){d(e),g.height(q.height()+40).addClass("overflow-visible"),t.css("visibility","visible").addClass("animated zoomIn"),i()},100),a(window).trigger("scroll"),r=!1,setTimeout(function(){a.scrollTo(B,400,{easing:"linear",offset:-A-s.outerHeight()-z-120,axis:"y"})},200)})})})})})}})}),b.preventDefault()}),a(document).on("click",".next-portfolio-details",function(b){if(b.preventDefault(),r)return!1;r=!0;var c=a(this).data("wrap"),e=a("#ut-portfolio-details-wrap-"+c),g=a(".ut-portfolio-wrap.ut-portfolio-"+c).data("slideup-width"),h="",q=a("#ut-portfolio-details-"+c),s=a("#ut-loader-"+c),t=q.find(".active").next().data("post"),u=q.find(".active").next().data("format"),v=q.find(".active").data("post"),w=q.find(".active").data("format"),x=q.find("#ut-portfolio-detail-"+t);"centered"===g?(q.addClass("grid-container"),a("#ut-portfolio-details-navigation-"+c).addClass("grid-container"),h="grid-100"):h="ut-portfolio-detail-fullwidth",f(),j(v),q.find("#ut-portfolio-detail-"+v).attr("class","animated ut-portfolio-detail clearfix").addClass(h).addClass("BrooklynFadeOutRightSlideUp").delay(1e3).fadeOut(400,function(){"video"===w&&k(q,v),"gallery"===w&&l(q,v),a(this).removeClass("BrooklynFadeOutRightSlideUp"),s.stop(!0).fadeIn(200,function(){x.addClass("active").addClass(h).css("visibility","hidden").show().slideDown(400,"linear",function(){"gallery"===u?p(t,q,function(){m(t,c,function(){s.fadeOut(200,function(){q.find(".ut-portfolio-details-navigation").data("single",t),x.animate({opacity:1},100,"linear",function(){a(window).trigger("resize"),setTimeout(function(){d(c),e.height(q.height()+40),x.css("visibility","visible").addClass("BrooklynFadeInLeftSlideUp"),i()},100),a(window).trigger("scroll"),r=!1})})})}):"video"===u?n(t,function(){m(t,c,function(){s.fadeOut(200,function(){q.find(".ut-portfolio-details-navigation").data("single",t),x.animate({opacity:1},100,"linear",function(){a(window).trigger("resize"),setTimeout(function(){d(c),e.height(q.height()+40),x.css("visibility","visible").addClass("BrooklynFadeInLeftSlideUp"),i()},100),r=!1})})})}):o(t,q,function(){m(t,c,function(){s.fadeOut(200,function(){q.find(".ut-portfolio-details-navigation").data("single",t),x.animate({opacity:1},100,"linear",function(){a(window).trigger("resize"),setTimeout(function(){d(c),e.height(q.height()+40),x.css("visibility","visible").addClass("BrooklynFadeInLeftSlideUp"),i()},100),r=!1})})})})})})})}),a(document).on("click",".prev-portfolio-details",function(b){if(b.preventDefault(),!r){r=!0;var c=a(this).data("wrap"),e=a("#ut-portfolio-details-wrap-"+c),g=a(".ut-portfolio-wrap.ut-portfolio-"+c).data("slideup-width"),h="",q=a("#ut-portfolio-details-"+c),s=a("#ut-loader-"+c),t=q.find(".active").prev().data("post"),u=q.find(".active").prev().data("format"),v=q.find(".active").data("post"),w=q.find(".active").data("format"),x=q.find("#ut-portfolio-detail-"+t);"centered"===g?(q.addClass("grid-container"),a("#ut-portfolio-details-navigation-"+c).addClass("grid-container"),h="grid-100"):h="ut-portfolio-detail-fullwidth",f(),j(v),q.find("#ut-portfolio-detail-"+v).attr("class","animated ut-portfolio-detail clearfix ").addClass(h).addClass("BrooklynFadeOutLeftSlideUp").delay(1e3).fadeOut(400,function(){"video"===w&&k(q,v),"gallery"===w&&l(q,v),a(this).removeClass("BrooklynFadeOutLeftSlideUp"),s.stop(!0).fadeIn(200,function(){x.addClass("active").addClass(h).css("visibility","hidden").show().slideDown(400,"linear",function(){"gallery"===u?p(t,q,function(){m(t,c,function(){s.fadeOut(200,function(){q.find(".ut-portfolio-details-navigation").data("single",t),x.animate({opacity:1},100,"linear",function(){a(window).trigger("resize"),setTimeout(function(){d(c),e.height(q.height()+40),x.css("visibility","visible").addClass("BrooklynFadeInRightSlideUp"),i()},100),a(window).trigger("scroll"),r=!1})})})}):"video"===u?n(t,function(){m(t,c,function(){s.fadeOut(200,function(){q.find(".ut-portfolio-details-navigation").data("single",t),x.animate({opacity:1},100,"linear",function(){a(window).trigger("resize"),setTimeout(function(){d(c),e.height(q.height()+40),x.css("visibility","visible").addClass("BrooklynFadeInRightSlideUp"),i()},100),r=!1})})})}):o(t,q,function(){m(t,c,function(){s.fadeOut(200,function(){q.find(".ut-portfolio-details-navigation").data("single",t),x.animate({opacity:1},100,"linear",function(){a(window).trigger("resize"),setTimeout(function(){d(c),e.height(q.height()+40),x.css("visibility","visible").addClass("BrooklynFadeInRightSlideUp"),i()},100),r=!1})})})})})})})}}),a(document).on("click",".close-portfolio-details",function(b){if(b.preventDefault(),r)return!1;r=!0;var c=a(this).data("wrap"),d=a(this).parent().data("single"),e=a("#ut-portfolio-details-wrap-"+c),g=a(".ut-portfolio-wrap.ut-portfolio-"+c).data("slideup-width"),h="",i=a("#ut-portfolio-details-navigation-"+c),m=a("#ut-portfolio-detail-"+d).data("format");h="centered"===g?"grid-100":"ut-portfolio-detail-fullwidth",f(),i.removeClass("show").fadeOut(400,function(){a(this).slideUp()}),e.find("#ut-portfolio-detail-"+d).attr("class","animated ut-portfolio-detail clearfix").addClass(h).addClass("zoomOut").animate({opacity:0},200,"linear",function(){a(this).removeClass("zoomOut").css("visibility","hidden").hide(),e.height(0).delay(800).queue(function(){a(this).removeClass("show").removeClass("overflow-visible").dequeue(),"video"===m&&k(e,d),"gallery"===m&&l(e,d),j(d),r=!1})})}),a(".ut-portfolio-article-tilt:not(.ut-carousel-item) .ut-portfolio-item").ut_require_js({plugin:"tilt",source:"tilt",callback:function(a){a.tilt({maxTilt:10,perspective:"1000"});a.on("tilt.mouseLeave",function(){a.closest(".ut-portfolio-article").removeClass("ut-tilt-active")}),a.on("tilt.mouseEnter",function(){a.closest(".ut-portfolio-article").addClass("ut-tilt-active")}),a.on("click",function(){})}}),a(".ut-portfolio-article-tilt.ut-carousel-item").ut_require_js({plugin:"tilt",source:"tilt",callback:function(a){a.tilt({maxTilt:10,perspective:"1000"});a.on("tilt.mouseLeave",function(){a.removeClass("ut-tilt-active")}),a.on("tilt.mouseEnter",function(){a.addClass("ut-tilt-active")}),a.on("click",function(){})}})})})(jQuery);